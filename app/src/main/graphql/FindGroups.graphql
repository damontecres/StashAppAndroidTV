query FindGroups($filter: FindFilterType, $group_filter: GroupFilterType, $ids: [ID!]) {
  findGroups(filter: $filter, group_filter: $group_filter, ids: $ids){
    groups {
      ...GroupData
    }
  }
}

query CountGroups($filter: FindFilterType, $group_filter: GroupFilterType, $ids: [ID!]) {
  findGroups(filter: $filter, group_filter: $group_filter, ids: $ids) {
    count
  }
}

query FindGroup($id: ID!) {
  findGroup(id: $id) {
    ...GroupData
  }
}

query FindGroupTags($id: ID!) {
    findGroup(id: $id) {
    id
    tags {
      ...TagData
    }
  }
}

query CountGroupRelationships($filter: FindFilterType, $group_filter: GroupFilterType, $ids: [ID!]) {
  findGroups(filter: $filter, group_filter: $group_filter, ids: $ids) {
    groups {
      id
      sub_group_count
      containing_groups {
        group {
          id
        }
      }
    }
  }
}

query FindGroupRelationships($filter: FindFilterType, $group_filter: GroupFilterType, $ids: [ID!]) {
  findGroups(filter: $filter, group_filter: $group_filter, ids: $ids) {
    groups {
      id
      sub_groups {
        ...GroupDescriptionData
      }
      containing_groups {
        ...GroupDescriptionData
      }
    }
  }
}

fragment GroupDescriptionData on GroupDescription {
  description
  group {
    ...GroupData
  }
}

fragment GroupData on Group {
  id
  name
  aliases
  date
  duration
  rating100
  synopsis
  director
  studio {
    id
    name
  }
  tags {
    ...SlimTagData
    __typename
  }
  sub_group_count
  containing_groups {
      description
  }
  scene_count
  front_image_path
  back_image_path
  created_at
  updated_at
}

mutation CreateGroup($input: GroupCreateInput!) {
  groupCreate(input: $input) {
    ...GroupData
  }
}
